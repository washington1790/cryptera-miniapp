<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Ð§ÐµÐºÐ¸</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: -apple-system, sans-serif; background: #1C1C1E; color: #FFF; margin: 20px; }
    .container { max-width: 500px; margin: 0 auto; }
    input, button { width: 100%; padding: 14px; margin: 10px 0; border-radius: 12px; border: none; font-size: 16px; }
    input { background: #2C2C2E; color: #FFF; }
    button { background: #30D158; color: white; font-weight: 600; }
    .cheque { background: #2C2C2E; padding: 16px; border-radius: 12px; margin: 10px 0; }
  </style>
</head>
<body>
  <div class="container">
    <h2>ðŸŽ« Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‡ÐµÐº</h2>
    <input type="number" id="chequeAmount" placeholder="Ð¡ÑƒÐ¼Ð¼Ð° (USDT)">
    <input type="number" id="chequeCount" placeholder="ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð»ÑŽÐ´ÐµÐ¹" value="1">
    <button onclick="createCheque()">Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‡ÐµÐº</button>

    <div id="chequesList"></div>
  </div>

  <script>
    let cheques = [];

    function createCheque() {
      const amount = parseFloat(document.getElementById('chequeAmount').value);
      const count = parseInt(document.getElementById('chequeCount').value) || 1;

      if (!amount || amount <= 0) {
        alert('Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÑƒÐ¼Ð¼Ñƒ');
        return;
      }
      if (amount > parent.balance) {
        alert('ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð²');
        return;
      }

      const perPerson = (amount / count).toFixed(2);
      const code = Math.random().toString(36).substr(2, 8).toUpperCase();

      cheques.push({ code, amount, count, perPerson });
      parent.updateBalance(parent.balance - amount);

      renderCheques();
    }

    function renderCheques() {
      const list = document.getElementById('chequesList');
      list.innerHTML = cheques.map(c => `
        <div class="cheque">
          ðŸ”— ÐšÐ¾Ð´: <b>${c.code}</b><br>
          ðŸ’° ${c.amount} USDT â†’ ${c.count} Ñ‡ÐµÐ».<br>
          ðŸŽ¯ ÐŸÐ¾ ${c.perPerson} USDT
        </div>
      `).join('');
    }
  </script>
</body>
</html>
